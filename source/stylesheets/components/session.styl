@require 'includes/variables'
@require 'includes/extends'
/*
session
====================================================================== */

.session_day {
    margin-bottom: 40px;
}

.session_day_header {
    padding-right: ($grid-gutter-width / 2);
    padding-left: ($grid-gutter-width / 2);
}

.session_day_header_day {
    display: block;
}

.session {
    position: relative;
    padding: $grid-gutter-width;
    margin-bottom: ($grid-gutter-width / 2);
    background-color: $berlin-background;
    @extends $clearfix
}

.session-sametime {
    margin-top: ($grid-gutter-width / 2) * -1;
}

.session-keynote:before {
  content: '★';
  position: absolute;
  top: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  height: $grid-gutter-width;
  width: $grid-gutter-width;
  background-color: $berlin-dark;
  color: #fff;
  set-font-size(8px);
  line-height: 1;
}

.session_head {
    margin-bottom: 0;
}

.session_place {
    line-height: $heading-line-height;
}

.session_summary {
    margin-top: $grid-gutter-width;
}

.session_speakers {
    display: block;
}

.session_pic {
    display: flex;
    width: 100px;
    margin-bottom: 10px;

    > a {
        min-width: 0; /* http://stackoverflow.com/questions/31967019/max-width-doesnt-work-in-flexbox  */
        overflow: hidden;

        > img {
            display: block;
        }
    }
}

.session_speaker {
    display: block;
}

button.session_title {
    // this becomes a button with some js help so need to over ride defulat button styles
    // also needs the speificity bump
    display: inline-block;
    -moz-appearance: none;
    -webkit-appearance: none;
    appearance: none;
    min-width: 0;
    border: 0;
    padding: 0;
    background: #fff;
    color: inherit;
    font-size: inherit;
    font-family: inherit;
    font-weight: inherit;
    line-height: $heading-line-height;
    text-align: left;
}

.session_cta {
    color: $berlin-secondary;
}

.session_title {

    &:hover,
    &:focus,
    &:active {

        .session_cta {
            text-decoration: underline;
        }
    }
}

.session_details-nopic button.session_title {
    max-width: 100%;
}

@media $media-query-320-and-up {
    $session-pic-320 = 60px;
    $session-pic-space-320 = $session-pic-320 + $grid-gutter-width + 5px; // plus a little extra because buttons have weird widths

    .session_pic {
        float: right;
        width: $session-pic-320;
        flex-direction: column;
        margin-top: -2.1em;
        margin-left: $grid-gutter-width;
    }

    button.session_title {
        max-width: "calc(100% - %s)" % $session-pic-space-320;
    }

    .session_summary::before {
        content: '';
        display: block;
        height: 8.5em;
        margin: -8.5em 0 0;
    }
}

@media $media-query-480-and-up {
    $session-pic-480 = 100px;
    $session-pic-space-480 = $session-pic-480 + $grid-gutter-width + 5px; // plus a little extra because buttons have weird widths

    .session_pic {
        width: $session-pic-480;
    }

    button.session_title {
        max-width: "calc(100% - %s)" % $session-pic-space-480;
    }
}

@media $media-query-680-and-up {

    .session_day_header_day {
        display: inline;

        &::before {
            content: "• ";
        }
    }

    .session_pic {
        float: none;
        width: auto;
        flex-direction: row;
        margin: 0;
    }

    .session_speaker {
        display: inline;

        &::before {
            content: "• ";
            color: $berlin-text;
        }

        &:first-child::before {
            content: "";
        }
    }

    button.session_title {
        max-width: 100%;
    }

    .session_summary::before {
        height: 5.5em;
        margin: -5.5em 0 0;
    }
}

@media $media-query-960-and-up {
    .session {
        padding: $grid-gutter-width;
    }
}
